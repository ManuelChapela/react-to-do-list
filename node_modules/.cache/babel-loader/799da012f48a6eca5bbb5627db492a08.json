{"ast":null,"code":"var _jsxFileName = \"/Users/Chapeladas/Desktop/Web design/The Bridge/Apuntes clase/Decimotercera semana/react-to-do-list/src/components/Main/Main.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport './Main.css';\nimport Post from '../Post/Post';\nimport Form from '../Form/Form';\nimport getPosts from '../../data/dataProvider';\nimport { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Main = ({\n  user\n}) => {\n  _s();\n\n  const [posts, setPosts] = useState([]);\n  const [usuario, setUsuario] = useState(user || \"\");\n  const [mode, setMode] = useState(0);\n  const [selected, setSelected] = useState(-1);\n  const [search, setSearch] = useState(\"\");\n\n  const addPost = title => {\n    setPosts([...posts, {\n      title,\n      check: false,\n      priority: \"baja\"\n    }]);\n    setMode(0);\n    console.log(posts.priority);\n  };\n\n  useEffect(() => {\n    const newPosts = getPosts();\n    setPosts([...posts, ...newPosts]);\n  }, []);\n\n  const drawPosts = () => {\n    if (search == \"\") {\n      console.log(\"00\", search);\n      console.log(\"0\", posts);\n      return posts.map((item, i) => /*#__PURE__*/_jsxDEV(Post, {\n        title: item.title,\n        fnBorrar: deletePosts,\n        keyy: i,\n        fnEdit: editPosts,\n        tareaHecha: tareaHecha,\n        claseCheck: item.check,\n        editPriority: editPriority,\n        statePriority: item.priority,\n        btnEditNewPost: btnEditNewPost\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 11\n      }, this));\n    } else {\n      return posts.filter(item => item.title.toLowerCase().includes(search.toLowerCase())).map((item, i) => /*#__PURE__*/_jsxDEV(Post, {\n        title: item.title,\n        fnBorrar: deletePosts,\n        keyy: i,\n        fnEdit: editPosts,\n        tareaHecha: tareaHecha,\n        claseCheck: item.check,\n        editPriority: editPriority,\n        statePriority: item.priority,\n        btnEditNewPost: btnEditNewPost\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 106\n      }, this)) // <h1>Estás buscando guay. Solo necesitas escribir la robermagicmap </h1> \n      ;\n    }\n  }; // ---------- FUNCIÓN ELIMINAR AL HACER CLIC EN EL BOTON de POST\n\n\n  const deletePosts = el => {\n    const del = posts.filter((index, i) => i !== el);\n    setPosts(del);\n  }; // ---------- FUNCIÓN EDITAR AL HACER CLIC EN EL BOTON de POST\n\n\n  const editPosts = (i, newTitle) => {\n    const newTitles = [...posts];\n    newTitles[i].title = newTitle;\n    setPosts(newTitles);\n    setMode(0);\n  }; // --------- Tarea hecha, cambio de clase, tacha.\n\n\n  const tareaHecha = i => {\n    const newPosts = posts.map((el, index) => {\n      // Se hace un map de un array y si el key(i) coincide con el index, se le cambia el estado a check (que está dentro de posts). Se returna el elemento modificado. Y se cambia el estado a este objeto newPosts\n      if (i == index) {\n        el.check = !el.check;\n      }\n\n      return el;\n    });\n    setPosts(newPosts); // Aquí se atribuye el nuevo estado de posts con newPosts\n  }; // ------ Editar la prioridad para que se pinte según prioridad media alta o baja\n\n\n  const editPriority = (i, statePriority) => {\n    const newPost = [...posts];\n    newPost[i].priority = statePriority;\n    setPosts(newPost);\n  };\n\n  const btnGoBack = () => {\n    setMode(0);\n  };\n\n  const btnCreateNewPost = () => {\n    setMode(1);\n  };\n\n  const btnEditNewPost = id => {\n    setMode(2);\n    setSelected(id);\n  };\n\n  const searchPosts = el => setSearch(el.target.value);\n\n  return mode == 0 ? /*#__PURE__*/_jsxDEV(\"main\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: [\" \", usuario ? \"Hola\" + usuario + \",estas son tus tareas pendientes\" : \"Hola, estas son tus tareas pendientes\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 15\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"editLine\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"  Busca aqu\\xED tu contenido...\",\n        type: \"text\",\n        value: posts.search,\n        className: \"editInput\",\n        onChange: searchPosts\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"btn\",\n        onClick: () => btnCreateNewPost(),\n        children: \"Crear nueva\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 19\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 15\n    }, this), drawPosts()]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 94,\n    columnNumber: 11\n  }, this) : mode == 1 ? /*#__PURE__*/_jsxDEV(\"main\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: [\" Crea ah\\xED una tarea como: \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 43\n      }, this), \" \\xA1Que agsco de React!\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Form, {\n      btnGoBack: btnGoBack,\n      actualMode: mode,\n      addPost: addPost,\n      editPosts: editPosts\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 105,\n    columnNumber: 7\n  }, this) : mode == 2 ? /*#__PURE__*/_jsxDEV(\"main\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Venga, \\xE9chale una editadi\\xF1a ah\\xED\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 1\n    }, this), /*#__PURE__*/_jsxDEV(Form, {\n      btnGoBack: btnGoBack,\n      actualMode: mode,\n      editPosts: editPosts,\n      texto: posts[selected].title,\n      keyy: selected\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 112,\n    columnNumber: 11\n  }, this) : \" \";\n};\n\n_s(Main, \"rg+megCHmKRoWTaI9diwT3sBE0o=\");\n\n_c = Main;\nexport default Main;\n\nvar _c;\n\n$RefreshReg$(_c, \"Main\");","map":{"version":3,"sources":["/Users/Chapeladas/Desktop/Web design/The Bridge/Apuntes clase/Decimotercera semana/react-to-do-list/src/components/Main/Main.js"],"names":["React","Post","Form","getPosts","useState","useEffect","Main","user","posts","setPosts","usuario","setUsuario","mode","setMode","selected","setSelected","search","setSearch","addPost","title","check","priority","console","log","newPosts","drawPosts","map","item","i","deletePosts","editPosts","tareaHecha","editPriority","btnEditNewPost","filter","toLowerCase","includes","el","del","index","newTitle","newTitles","statePriority","newPost","btnGoBack","btnCreateNewPost","id","searchPosts","target","value"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './Main.css';\nimport Post from '../Post/Post';\nimport Form from '../Form/Form';\nimport getPosts from '../../data/dataProvider';\nimport { useState, useEffect } from 'react';\n\n\nconst Main = ({ user}) => {\n  const [posts, setPosts] = useState([]);\n  const [usuario, setUsuario] = useState(user || \"\");\n  const [mode, setMode] = useState(0);\n  const [selected, setSelected] = useState(-1);\n  const [search, setSearch] = useState(\"\");\n\n  \n  const addPost = (title) => { \n    setPosts( [...posts, { title,  check: false, priority: \"baja\"} ])\n    setMode(0)\n    console.log(posts.priority);\n  }\n  \n  useEffect(() => {\n    const newPosts =  getPosts()\n    setPosts( [...posts, ...newPosts] );\n  },[]);\n  \n  const drawPosts = () => {\n    if (search == \"\") {\n      console.log(\"00\", search);\n      console.log(\"0\", posts);\n      return posts.map((item, i) =>\n          <Post title={item.title} fnBorrar={deletePosts} keyy={i} fnEdit={editPosts} tareaHecha={tareaHecha} claseCheck={item.check} editPriority={editPriority} statePriority={item.priority} btnEditNewPost={btnEditNewPost}/>\n      )\n    }else{\n\n      return ( \n      posts.filter((item) => item.title.toLowerCase().includes(search.toLowerCase())).map(( item, i ) => <Post  title={item.title} fnBorrar={deletePosts} keyy={i} fnEdit={editPosts} tareaHecha={tareaHecha} claseCheck={item.check} editPriority={editPriority} statePriority={item.priority} btnEditNewPost={btnEditNewPost}/>)\n      // <h1>Estás buscando guay. Solo necesitas escribir la robermagicmap </h1> \n      ) \n    }\n    }\n      \n// ---------- FUNCIÓN ELIMINAR AL HACER CLIC EN EL BOTON de POST\n  const deletePosts = (el) => { \n          const del = posts.filter((index, i )=> i !== el);\n          setPosts(del)\n        \n      }\n      \n// ---------- FUNCIÓN EDITAR AL HACER CLIC EN EL BOTON de POST\n  const editPosts = (i, newTitle) => {\n    const newTitles = [...posts]; \n    newTitles[i].title = newTitle            \n    setPosts(newTitles)\n    setMode(0)  \n    }\n    \n    // --------- Tarea hecha, cambio de clase, tacha.\n  const tareaHecha = (i) =>{   \n    const newPosts = posts.map((el, index) => {      // Se hace un map de un array y si el key(i) coincide con el index, se le cambia el estado a check (que está dentro de posts). Se returna el elemento modificado. Y se cambia el estado a este objeto newPosts\n      if(i == index){\n          el.check = !el.check\n        }\n        return el\n      }\n      )\n      setPosts(newPosts)                          // Aquí se atribuye el nuevo estado de posts con newPosts\n    }\n  \n// ------ Editar la prioridad para que se pinte según prioridad media alta o baja\n  const editPriority = (i, statePriority) => {\n    const newPost = [...posts]\n    newPost[i].priority = statePriority       \n    setPosts(newPost)\n    }\n    \n  const btnGoBack = () => {\n      setMode(0)\n    }\n  const btnCreateNewPost = () => {\n     setMode(1)\n    }\n  const btnEditNewPost = (id) => {\n    setMode(2)\n    setSelected(id)\n    }\n\n  const searchPosts = (el) => setSearch( el.target.value )\n\n\n      return (\n       (mode == 0) ?\n          <main>\n              <h1> {usuario ? \"Hola\" + usuario + \",estas son tus tareas pendientes\": \"Hola, estas son tus tareas pendientes\"}</h1>\n              <div className=\"editLine\" >\n                  <input placeholder=\"  Busca aquí tu contenido...\" type=\"text\" value={posts.search} className=\"editInput\" onChange={searchPosts}/> \n                  {/* <Search searchPosts={this.state.selected, this.state.mode}/>             */}\n                  <div className=\"btn\" onClick={()=> btnCreateNewPost()} >Crear nueva</div>\n              </div>\n              {drawPosts()}    \n          </main> \n      : \n      (mode == 1) ?\n      <main>\n            <h1> Crea ahí una tarea como: <br /> ¡Que agsco de React!</h1>\n            <Form btnGoBack={btnGoBack} actualMode={mode} addPost={addPost} editPosts={editPosts} />\n      </main>\n\n    :  \n    (mode == 2) ?\n          <main>\n<             h1>Venga, échale una editadiña ahí</h1>\n                <Form btnGoBack={btnGoBack} actualMode={mode} editPosts={editPosts} texto={posts[selected].title} keyy={selected}/> \n          </main> \n              : \" \"\n        )  \n      } \n\nexport default Main;"]},"metadata":{},"sourceType":"module"}