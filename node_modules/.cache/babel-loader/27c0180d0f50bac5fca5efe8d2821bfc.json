{"ast":null,"code":"var _jsxFileName = \"/Users/Chapeladas/Desktop/Web design/The Bridge/Apuntes clase/Decimotercera semana/react-to-do-list/src/components/Main/Main.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport './Main.css';\nimport Post from '../Post/Post';\nimport Form from '../Form/Form';\nimport getPosts from '../../data/dataProvider';\nimport { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Main = ({\n  user\n}) => {\n  _s();\n\n  const [posts, setPosts] = useState([]);\n  const [usuario, setUsuario] = useState(user || \"\");\n  const [limit, setLimit] = useState(10); // Que es limit??\n\n  const [mode, setMode] = useState(0);\n  const [selected, setSelected] = useState(-1);\n  const [search, setSearch] = useState(\"\");\n\n  const addPost = title => {\n    setPosts({\n      posts: [...posts, {\n        title,\n        check: false,\n        priority: \"baja\"\n      }],\n      mode: 0\n    });\n  }; // CAMBIAR ESTA CONFIGUARACIÓN Y TRADUCIR ESTA VAINA\n  // async componentDidMount() {\n  //   const newPosts = await getPosts()\n  //   this.setState({ posts: [...this.state.posts, ...newPosts] });\n  // }\n\n\n  const drawPosts = () => {\n    if (search == \"\") {\n      console.log(search);\n      return posts.map((item, i) => /*#__PURE__*/_jsxDEV(Post, {\n        title: item.title,\n        fnBorrar: deletePosts,\n        keyy: i,\n        fnEdit: editPosts,\n        fnFlag: loadPosts,\n        tareaHecha: this.tareaHecha,\n        claseCheck: item.check,\n        editPriority: this.editPriority,\n        statePriority: item.priority,\n        btnEditNewPost: this.btnEditNewPost\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 11\n      }, this));\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Est\\xE1s buscando guay. Solo necesitas escribir la robermagicmap \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 14\n      }, this);\n    }\n  }; // ---------- FUNCIÓN ELIMINAR AL HACER CLIC EN EL BOTON de POST\n\n\n  const deletePosts = el => {\n    const task = posts.filter((index, i) => i !== el);\n    setPosts({\n      posts: task\n    });\n  }; // ---------- FUNCIÓN EDITAR AL HACER CLIC EN EL BOTON de POST\n\n\n  const editPosts = (i, newTitle) => {\n    const newTitles = [...posts]; // Copy of an array\n\n    newTitles[i].title = newTitle; // Modificar la copia con la i y el nuevo título\n\n    setPosts({\n      posts: newTitles,\n      mode: 0\n    }); // Se sustituye el nuevo título\n  }; // --------- Tarea hecha, cambio de clase, tacha.\n\n\n  const tareaHecha = i => {\n    const newPosts = posts.map((el, index) => {\n      // Se hace un map de un array y si el key(i) coincide con el index, se le cambia el estado a check (que está dentro de posts). Se returna el elemento modificado. Y se cambia el estado a este objeto newPosts\n      if (i == index) {\n        el.check = !el.check;\n      }\n\n      return el;\n    });\n    setPosts({\n      posts: newPosts\n    }); // Aquí se atribuye el nuevo estado de posts con newPosts\n  }; // ------ Editar la prioridad para que se pinte según prioridad media alta o baja\n\n\n  const editPriority = (i, statePriority) => {\n    const priority2 = posts.map((el, index) => {\n      return el.priority;\n    });\n    setPosts(priority2);\n  };\n\n  const btnGoBack = () => {\n    setMode(0);\n  };\n\n  const btnCreateNewPost = () => {\n    setMode(1);\n  };\n\n  const btnEditNewPost = id => {\n    setMode(2);\n    setSelected(id);\n  };\n\n  const searchPosts = el => setSearch({\n    search: el.target.value\n  });\n\n  return this.state.mode == 0 ? /*#__PURE__*/_jsxDEV(\"main\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: [\"Hola, \", this.state.user ? this.state.user : \"¡qué pasa Chape!\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 15\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"editLine\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"  Busca aqu\\xED tu contenido...\",\n        type: \"text\",\n        value: this.state.posts.search,\n        className: \"editInput\",\n        onChange: this.searchPosts\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"btn\",\n        onClick: () => this.btnCreateNewPost(),\n        children: \"Crear nueva\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 19\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 15\n    }, this), this.drawPosts()]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 98,\n    columnNumber: 11\n  }, this) : this.state.mode == 1 ? /*#__PURE__*/_jsxDEV(\"main\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: [\" Crea ah\\xED una tarea como: \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 43\n      }, this), \" \\xA1Que agsco de React!\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Form, {\n      btnGoBack: this.btnGoBack,\n      actualMode: this.state.mode,\n      createNewPost: this.createNewPost,\n      addPost: this.addPost,\n      editPosts: this.editPosts\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 109,\n    columnNumber: 7\n  }, this) : this.state.mode == 2 ? /*#__PURE__*/_jsxDEV(\"main\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Venga, \\xE9chale una editadi\\xF1a ah\\xED\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 1\n    }, this), /*#__PURE__*/_jsxDEV(Form, {\n      btnGoBack: this.btnGoBack,\n      actualMode: this.state.mode,\n      editPosts: this.editPosts,\n      texto: this.state.posts[this.state.selected].title,\n      keyy: this.state.selected\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 116,\n    columnNumber: 11\n  }, this) : \" \";\n};\n\n_s(Main, \"UrOjQNZOMCFGpfHdKLKPSeyeU84=\");\n\n_c = Main;\nexport default Main;\n\nvar _c;\n\n$RefreshReg$(_c, \"Main\");","map":{"version":3,"sources":["/Users/Chapeladas/Desktop/Web design/The Bridge/Apuntes clase/Decimotercera semana/react-to-do-list/src/components/Main/Main.js"],"names":["React","Post","Form","getPosts","useState","Main","user","posts","setPosts","usuario","setUsuario","limit","setLimit","mode","setMode","selected","setSelected","search","setSearch","addPost","title","check","priority","drawPosts","console","log","map","item","i","deletePosts","editPosts","loadPosts","tareaHecha","editPriority","btnEditNewPost","el","task","filter","index","newTitle","newTitles","newPosts","statePriority","priority2","btnGoBack","btnCreateNewPost","id","searchPosts","target","value","state","createNewPost"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './Main.css';\nimport Post from '../Post/Post';\nimport Form from '../Form/Form';\nimport getPosts from '../../data/dataProvider';\nimport { useState } from 'react';\n\n\nconst Main = ({ user }) => {\n  const [posts, setPosts] = useState([]);\n  const [usuario, setUsuario] = useState(user || \"\");\n  const [limit, setLimit] = useState(10); // Que es limit??\n  const [mode, setMode] = useState(0);\n  const [selected, setSelected] = useState(-1);\n  const [search, setSearch] = useState(\"\");\n\n  \n  const addPost = (title) => { \n    setPosts({\n      posts: [...posts, { title,  check: false, priority: \"baja\"}],\n      mode: 0\n    });\n  }\n\n  // CAMBIAR ESTA CONFIGUARACIÓN Y TRADUCIR ESTA VAINA\n  // async componentDidMount() {\n  //   const newPosts = await getPosts()\n  //   this.setState({ posts: [...this.state.posts, ...newPosts] });\n  // }\n  \n  const drawPosts = () => {\n    if (search == \"\") {\n      console.log(search);\n      return posts.map((item, i) =>\n          <Post title={item.title} fnBorrar={deletePosts} keyy={i} fnEdit={editPosts} fnFlag={loadPosts} tareaHecha={this.tareaHecha} claseCheck={item.check} editPriority={this.editPriority} statePriority={item.priority} btnEditNewPost={this.btnEditNewPost}/>\n      )\n    }else{\n      return <h1>Estás buscando guay. Solo necesitas escribir la robermagicmap </h1>\n    }\n    }\n      \n// ---------- FUNCIÓN ELIMINAR AL HACER CLIC EN EL BOTON de POST\n  const deletePosts = (el) => { \n          const task = posts.filter((index, i )=> i !== el);\n          setPosts({posts: task})\n        \n      }\n      \n// ---------- FUNCIÓN EDITAR AL HACER CLIC EN EL BOTON de POST\n  const editPosts = (i, newTitle) => {\n    const newTitles = [...posts];  // Copy of an array\n    newTitles[i].title = newTitle             // Modificar la copia con la i y el nuevo título\n    setPosts({ posts: newTitles, mode:0})       // Se sustituye el nuevo título\n    }\n    \n    // --------- Tarea hecha, cambio de clase, tacha.\n  const tareaHecha = (i) =>{   \n    const newPosts = posts.map((el, index) => {      // Se hace un map de un array y si el key(i) coincide con el index, se le cambia el estado a check (que está dentro de posts). Se returna el elemento modificado. Y se cambia el estado a este objeto newPosts\n      if(i == index){\n          el.check = !el.check\n        }\n        return el\n      }\n      )\n      setPosts({posts: newPosts})                          // Aquí se atribuye el nuevo estado de posts con newPosts\n    }\n  \n// ------ Editar la prioridad para que se pinte según prioridad media alta o baja\n  const editPriority = (i, statePriority) => {\n      const priority2 = posts.map((el, index) => {\n        return el.priority\n      })\n      setPosts(priority2)\n    }\n    \n  const btnGoBack = () => {\n      setMode(0)\n    }\n  const btnCreateNewPost = () => {\n     setMode(1)\n    }\n  \n\n\n\n  const btnEditNewPost = (id) => {\n    setMode(2)\n    setSelected(id)\n    }\n\n\n\n  const searchPosts = (el) => setSearch( { search: el.target.value } )\n\n\n      return (\n       (this.state.mode == 0) ?\n          <main>\n              <h1>Hola, {this.state.user ? this.state.user : \"¡qué pasa Chape!\"}</h1>\n              <div className=\"editLine\" >\n                  <input placeholder=\"  Busca aquí tu contenido...\" type=\"text\" value={this.state.posts.search} className=\"editInput\" onChange={this.searchPosts}/> \n                  {/* <Search searchPosts={this.state.selected, this.state.mode}/>             */}\n                  <div className=\"btn\" onClick={()=> this.btnCreateNewPost()} >Crear nueva</div>\n              </div>\n              {this.drawPosts()}    \n          </main> \n      : \n      (this.state.mode == 1) ?\n      <main>\n            <h1> Crea ahí una tarea como: <br /> ¡Que agsco de React!</h1>\n            <Form btnGoBack={this.btnGoBack} actualMode={this.state.mode} createNewPost={this.createNewPost} addPost={this.addPost} editPosts={this.editPosts} />\n      </main>\n\n    :  \n    (this.state.mode == 2) ?\n          <main>\n<             h1>Venga, échale una editadiña ahí</h1>\n                <Form btnGoBack={this.btnGoBack} actualMode={this.state.mode} editPosts={this.editPosts} texto={this.state.posts[this.state.selected].title} keyy={this.state.selected}/> \n          </main> \n              : \" \"\n        )  \n      } \n\nexport default Main;"]},"metadata":{},"sourceType":"module"}