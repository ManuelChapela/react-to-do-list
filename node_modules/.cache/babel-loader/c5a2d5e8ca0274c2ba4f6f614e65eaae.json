{"ast":null,"code":"var _jsxFileName = \"/Users/Chapeladas/Desktop/Web design/The Bridge/Apuntes clase/Duodecima semana/Dia 1 _ Ejercicio semana anterior CRUD react/ft-ene21-ReactJS-examples-main/src/components/Main/Main.js\";\nimport React from 'react';\nimport './Main.css'; //import spinner from './spinner.gif';\n\nimport Post from '../Post/Post';\nimport Form from '../Form/Form';\nimport getPosts from '../../data/dataProvider'; // ----------- STATE ITNITIAL\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Main extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.drawPosts = () => {\n      console.log(\"draw\", this.state.posts);\n\n      if (this.state.posts.length > 0) {\n        return this.state.posts.map((item, i) => /*#__PURE__*/_jsxDEV(Post, {\n          title: item.title,\n          fnBorrar: this.deletePosts,\n          keyy: i,\n          fnEdit: this.editPosts,\n          fnFlag: this.loadPosts,\n          tareaHecha: this.tareaHecha\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 11\n        }, this));\n      }\n\n      return /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"No hay datos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 14\n      }, this);\n    };\n\n    this.deletePosts = el => {\n      const task = this.state.posts.filter((index, i) => i !== el);\n      this.setState({\n        posts: task\n      });\n    };\n\n    this.editPosts = (i, newTitle) => {\n      const newTitles = [...this.state.posts]; // Copy of an array\n\n      newTitles[i].title = newTitle; // Modificar la copia con la i y el nuevo título\n\n      this.setState({\n        posts: newTitles\n      }); // Se sustituye el nuevo título\n\n      this.setState({\n        insert: true\n      }); // Cambiar el estado de INSERT\n    };\n\n    this.loadPosts = i => {\n      this.setState({\n        insert: false\n      });\n    };\n\n    this.addPost = title => {\n      this.setState({\n        posts: [...this.state.posts, {\n          title\n        }]\n      });\n    };\n\n    this.drawForm = () => {\n      if (this.state.insert || this.state.insert == false) // OJO AQuI QUE NO TIENE QUE SER == false\n        return /*#__PURE__*/_jsxDEV(Form, {\n          addPost: this.addPost,\n          editPosts: this.editPosts,\n          state: this.state.insert\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 14\n        }, this); // return <FormEdit editPosts={this.editPosts} />\n    };\n\n    this.tareaHecha = () => {\n      this.state.check ? this.setState({\n        check: false\n      }) : this.setState({\n        check: true\n      });\n    };\n\n    this.state = {\n      posts: [],\n      user: this.props.user || \"\",\n      limit: 10,\n      insert: true,\n      check: false\n    };\n  }\n\n  async componentDidMount() {\n    const newPosts = await getPosts();\n    this.setState({\n      posts: [...this.state.posts, ...newPosts]\n    });\n  } // ---------- CONEXIÓN CON EL COMPONENTE POST\n\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"main\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"Hola, \", this.state.user ? this.state.user : \"¡qué pasa Chape!\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), this.drawForm(), this.drawPosts()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Main;","map":{"version":3,"sources":["/Users/Chapeladas/Desktop/Web design/The Bridge/Apuntes clase/Duodecima semana/Dia 1 _ Ejercicio semana anterior CRUD react/ft-ene21-ReactJS-examples-main/src/components/Main/Main.js"],"names":["React","Post","Form","getPosts","Main","Component","constructor","props","drawPosts","console","log","state","posts","length","map","item","i","title","deletePosts","editPosts","loadPosts","tareaHecha","el","task","filter","index","setState","newTitle","newTitles","insert","addPost","drawForm","check","user","limit","componentDidMount","newPosts","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './Main.css';\n//import spinner from './spinner.gif';\n\nimport Post from '../Post/Post';\nimport Form from '../Form/Form';\nimport getPosts from '../../data/dataProvider';\n\n\n\n// ----------- STATE ITNITIAL\nclass Main extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      posts: [],\n      user: this.props.user || \"\",\n      limit: 10,\n      insert: true,\n      check: false\n    }\n  }\n  \n  async componentDidMount() {\n    const newPosts = await getPosts()\n    this.setState({ posts: [...this.state.posts, ...newPosts] });\n  }\n\n  \n\n// ---------- CONEXIÓN CON EL COMPONENTE POST\n    drawPosts = () => {\n      console.log(\"draw\", this.state.posts);\n      if (this.state.posts.length > 0) {\n          return this.state.posts.map((item, i) =>\n          <Post title={item.title} fnBorrar={this.deletePosts} keyy={i} fnEdit={this.editPosts} fnFlag={this.loadPosts} tareaHecha={this.tareaHecha}/>\n        )\n      }\n      return <h4>No hay datos</h4>\n    }\n      \n\n// ---------- FUNCIÓN ELIMINAR AL HACER CLIC EN EL BOTON de POST\n      deletePosts = (el) => { \n          const task = this.state.posts.filter((index, i )=> i !== el);\n          this.setState({posts: task})\n        \n      }\n      \n\n\n// ---------- FUNCIÓN EDITAR AL HACER CLIC EN EL BOTON de POST\n  editPosts = (i, newTitle) => {\n      const newTitles = [...this.state.posts];  // Copy of an array\n      newTitles[i].title = newTitle             // Modificar la copia con la i y el nuevo título\n      this.setState({ posts: newTitles })       // Se sustituye el nuevo título\n    \n      this.setState({insert: true})               // Cambiar el estado de INSERT\n  }\n\n  loadPosts = (i) => {\n    this.setState({insert: false})\n  }\n  \n  addPost = (title) => { \n    this.setState({\n      posts: [...this.state.posts, { title }]\n    });\n  }\n\n  drawForm = () => {\n    if(this.state.insert || this.state.insert == false)         // OJO AQuI QUE NO TIENE QUE SER == false\n      return <Form addPost={this.addPost} editPosts={this.editPosts} state={this.state.insert} />\n      // return <FormEdit editPosts={this.editPosts} />\n  }\n\n  tareaHecha = () => {(this.state.check) ? (this.setState({check: false})) : (this.setState({check: true}))}\n  \n  \n  render() {\n    return (\n      <main>\n        <h1>Hola, {this.state.user ? this.state.user : \"¡qué pasa Chape!\"}</h1>\n        {/* <Form addPost={this.addPost} editPosts={this.editPosts} state={this.state.insert} /> */}\n        {this.drawForm()}\n        {this.drawPosts()}\n      </main>\n    )\n  }\n}\n\nexport default Main;"]},"metadata":{},"sourceType":"module"}