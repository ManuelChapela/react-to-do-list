{"ast":null,"code":"var _jsxFileName = \"/Users/Chapeladas/Desktop/Web design/The Bridge/Apuntes clase/Duodecima semana/Dia 1 _ Ejercicio semana anterior CRUD react/ft-ene21-ReactJS-examples-main/src/components/Main/Main.js\";\nimport React from 'react';\nimport './Main.css'; //import spinner from './spinner.gif';\n\nimport Post from '../Post/Post';\nimport Form from '../Form/Form';\nimport getPosts from '../../data/dataProvider';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Main extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.drawPosts = () => {\n      console.log(\"draw\", this.state.posts);\n\n      if (this.state.posts.length > 0) {\n        return this.state.posts.map((item, i) => /*#__PURE__*/_jsxDEV(Post, {\n          title: item.title,\n          excerpt: item.excerpt,\n          fnBorrar: this.deletePosts\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 9\n        }, this));\n      }\n\n      return /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"No hay datos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 12\n      }, this); // else {\n      //   return <img src={spinner} alt=\"\"/>\n      // }\n    };\n\n    this.deletePosts = el => {\n      console.log(\"delete\", this.state.posts.filter(index => index.title !== el)); // console.log(this.state.posts[0]);;\n\n      console.log(\"delete 2\", this.state.posts);\n\n      if (this.state.posts.length > 0) {}\n    };\n\n    this.addPost = (title, excerpt) => {\n      // ES6 Version\n      this.setState({\n        posts: [...this.state.posts, {\n          title,\n          excerpt\n        }]\n      });\n    };\n\n    this.state = {\n      posts: [],\n      user: this.props.user || \"\",\n      limit: 10\n    }; // ES5 Version\n    // this.addPost = this.addPost.bind(this);\n  }\n\n  async componentDidMount() {\n    const newPosts = await getPosts();\n    this.setState({\n      posts: [...this.state.posts, ...newPosts]\n    });\n  } // async componentDidDelete() {\n  //   const delPosts = await deletePost()\n  //   this.setState({ posts: [...this.state.posts, ...newPosts] });\n  // }\n\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"main\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"Hola, \", this.state.user ? this.state.user : \"Anónimo\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form, {\n        addPost: this.addPost\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), this.drawPosts()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Main;","map":{"version":3,"sources":["/Users/Chapeladas/Desktop/Web design/The Bridge/Apuntes clase/Duodecima semana/Dia 1 _ Ejercicio semana anterior CRUD react/ft-ene21-ReactJS-examples-main/src/components/Main/Main.js"],"names":["React","Post","Form","getPosts","Main","Component","constructor","props","drawPosts","console","log","state","posts","length","map","item","i","title","excerpt","deletePosts","el","filter","index","addPost","setState","user","limit","componentDidMount","newPosts","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,YAAP,C,CACA;;AAEA,OAAOC,IAAP,MAAiB,cAAjB;AACA,OAAOC,IAAP,MAAiB,cAAjB;AACA,OAAOC,QAAP,MAAqB,yBAArB;;;AAEA,MAAMC,IAAN,SAAmBJ,KAAK,CAACK,SAAzB,CAAmC;AACjCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAuBnBC,SAvBmB,GAuBP,MAAM;AAChBC,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoB,KAAKC,KAAL,CAAWC,KAA/B;;AACA,UAAI,KAAKD,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,GAA0B,CAA9B,EAAiC;AAC/B,eAAO,KAAKF,KAAL,CAAWC,KAAX,CAAiBE,GAAjB,CAAqB,CAACC,IAAD,EAAOC,CAAP,kBAC1B,QAAC,IAAD;AAAO,UAAA,KAAK,EAAED,IAAI,CAACE,KAAnB;AAA0B,UAAA,OAAO,EAAEF,IAAI,CAACG,OAAxC;AAAiD,UAAA,QAAQ,EAAE,KAAKC;AAAhE,WAAkFH,CAAlF;AAAA;AAAA;AAAA;AAAA,gBADK,CAAP;AAGD;;AACD,0BAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAP,CAPgB,CAQhB;AACA;AACA;AACD,KAlCkB;;AAAA,SAoCnBG,WApCmB,GAoCJC,EAAD,IAAQ;AACpBX,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsB,KAAKC,KAAL,CAAWC,KAAX,CAAiBS,MAAjB,CAAwBC,KAAK,IAAIA,KAAK,CAACL,KAAN,KAAgBG,EAAjD,CAAtB,EADoB,CAEpB;;AACAX,MAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwB,KAAKC,KAAL,CAAWC,KAAnC;;AACA,UAAG,KAAKD,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,GAA0B,CAA7B,EAA+B,CAG9B;AACF,KA5CkB;;AAAA,SA8CnBU,OA9CmB,GA8CT,CAACN,KAAD,EAAQC,OAAR,KAAoB;AAAE;AAC9B,WAAKM,QAAL,CAAc;AACZZ,QAAAA,KAAK,EAAE,CAAC,GAAG,KAAKD,KAAL,CAAWC,KAAf,EAAsB;AAAEK,UAAAA,KAAF;AAASC,UAAAA;AAAT,SAAtB;AADK,OAAd;AAGD,KAlDkB;;AAGjB,SAAKP,KAAL,GAAa;AACXC,MAAAA,KAAK,EAAE,EADI;AAEXa,MAAAA,IAAI,EAAE,KAAKlB,KAAL,CAAWkB,IAAX,IAAmB,EAFd;AAGXC,MAAAA,KAAK,EAAE;AAHI,KAAb,CAHiB,CASjB;AACA;AACD;;AAEsB,QAAjBC,iBAAiB,GAAG;AACxB,UAAMC,QAAQ,GAAG,MAAMzB,QAAQ,EAA/B;AACA,SAAKqB,QAAL,CAAc;AAAEZ,MAAAA,KAAK,EAAE,CAAC,GAAG,KAAKD,KAAL,CAAWC,KAAf,EAAsB,GAAGgB,QAAzB;AAAT,KAAd;AACD,GAjBgC,CAmBjC;AACA;AACA;AACA;;;AA+BAC,EAAAA,MAAM,GAAG;AACP,wBACE;AAAA,8BACE;AAAA,6BAAW,KAAKlB,KAAL,CAAWc,IAAX,GAAkB,KAAKd,KAAL,CAAWc,IAA7B,GAAoC,SAA/C;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAGE,QAAC,IAAD;AAAM,QAAA,OAAO,EAAE,KAAKF;AAApB;AAAA;AAAA;AAAA;AAAA,cAHF,EAIG,KAAKf,SAAL,EAJH;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AAQD;;AA9DgC;;AAiEnC,eAAeJ,IAAf","sourcesContent":["import React from 'react';\nimport './Main.css';\n//import spinner from './spinner.gif';\n\nimport Post from '../Post/Post';\nimport Form from '../Form/Form';\nimport getPosts from '../../data/dataProvider';\n\nclass Main extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      posts: [],\n      user: this.props.user || \"\",\n      limit: 10\n    }\n\n    // ES5 Version\n    // this.addPost = this.addPost.bind(this);\n  }\n\n  async componentDidMount() {\n    const newPosts = await getPosts()\n    this.setState({ posts: [...this.state.posts, ...newPosts] });\n  }\n\n  // async componentDidDelete() {\n  //   const delPosts = await deletePost()\n  //   this.setState({ posts: [...this.state.posts, ...newPosts] });\n  // }\n\n  drawPosts = () => {\n    console.log(\"draw\", this.state.posts);\n    if (this.state.posts.length > 0) {\n      return this.state.posts.map((item, i) =>\n        <Post  title={item.title} excerpt={item.excerpt} fnBorrar={this.deletePosts} key={i}/>\n      )\n    }\n    return <h4>No hay datos</h4>\n    // else {\n    //   return <img src={spinner} alt=\"\"/>\n    // }\n  }\n\n  deletePosts = (el) => { \n    console.log(\"delete\", this.state.posts.filter(index => index.title !== el))\n    // console.log(this.state.posts[0]);;\n    console.log(\"delete 2\", this.state.posts);\n    if(this.state.posts.length > 0){\n      \n\n    }\n  }\n  //addPost() { // ES5 Version\n  addPost = (title, excerpt) => { // ES6 Version\n    this.setState({\n      posts: [...this.state.posts, { title, excerpt }]\n    });\n  }\n  \n  render() {\n    return (\n      <main>\n        <h1>Hola, {this.state.user ? this.state.user : \"Anónimo\"}</h1>\n        {/*<h1>Hola, {this.state.user || \"Anónimo\"}</h1>*/}\n        <Form addPost={this.addPost} />\n        {this.drawPosts()}\n      </main>\n    )\n  }\n}\n\nexport default Main;"]},"metadata":{},"sourceType":"module"}